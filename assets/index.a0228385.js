(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const u of n)if(u.type==="childList")for(const i of u.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&a(i)}).observe(document,{childList:!0,subtree:!0});function r(n){const u={};return n.integrity&&(u.integrity=n.integrity),n.referrerpolicy&&(u.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?u.credentials="include":n.crossorigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(n){if(n.ep)return;n.ep=!0;const u=r(n);fetch(n.href,u)}})();var Y={},ve={},p={},l={};Object.defineProperty(l,"__esModule",{value:!0});l.areaConversion=l.timeConversion=l.distanceConversion=l.altitudeKeys=l.latitudeKeys=l.longitudeKeys=l.MAXLON=l.MINLON=l.MAXLAT=l.MINLAT=l.earthRadius=l.sexagesimalPattern=void 0;var xt=/^([0-9]{1,3})°\s*([0-9]{1,3}(?:\.(?:[0-9]{1,}))?)['′]\s*(([0-9]{1,3}(\.([0-9]{1,}))?)["″]\s*)?([NEOSW]?)$/;l.sexagesimalPattern=xt;var Yt=6378137;l.earthRadius=Yt;var Ht=-90;l.MINLAT=Ht;var Zt=90;l.MAXLAT=Zt;var zt=-180;l.MINLON=zt;var Jt=180;l.MAXLON=Jt;var Qt=["lng","lon","longitude",0];l.longitudeKeys=Qt;var er=["lat","latitude",1];l.latitudeKeys=er;var tr=["alt","altitude","elevation","elev",2];l.altitudeKeys=tr;var rr={m:1,km:.001,cm:100,mm:1e3,mi:1/1609.344,sm:1/1852.216,ft:100/30.48,in:100/2.54,yd:1/.9144};l.distanceConversion=rr;var ar={m:60,h:3600,d:86400};l.timeConversion=ar;var L={m2:1,km2:1e-6,ha:1e-4,a:.01,ft2:10.763911,yd2:1.19599,in2:1550.0031};l.areaConversion=L;L.sqm=L.m2;L.sqkm=L.km2;L.sqft=L.ft2;L.sqyd=L.yd2;L.sqin=L.in2;var w={};Object.defineProperty(w,"__esModule",{value:!0});w.default=void 0;var nr=function(t,r){return r.reduce(function(a,n){if(typeof t>"u"||t===null)throw new Error("'".concat(t,"' is no valid coordinate."));return Object.prototype.hasOwnProperty.call(t,n)&&typeof n<"u"&&typeof a>"u"?(a=n,n):a},void 0)},ur=nr;w.default=ur;var j={},I={};Object.defineProperty(I,"__esModule",{value:!0});I.default=void 0;var ir=function(t){var r=t.toString().trim();return isNaN(parseFloat(r))?!1:parseFloat(r)===Number(r)},or=ir;I.default=or;var T={};Object.defineProperty(T,"__esModule",{value:!0});T.default=void 0;var dr=l,lr=function(t){return dr.sexagesimalPattern.test(t.toString().trim())},fr=lr;T.default=fr;var E={};Object.defineProperty(E,"__esModule",{value:!0});E.default=void 0;var sr=l,cr=function(t){var r=new RegExp(sr.sexagesimalPattern).exec(t.toString().trim());if(typeof r>"u"||r===null)throw new Error("Given value is not in sexagesimal format");var a=Number(r[2])/60||0,n=Number(r[4])/3600||0,u=parseFloat(r[1])+a+n;return["S","W"].includes(r[7])?-u:u},vr=cr;E.default=vr;var H={},V={};Object.defineProperty(V,"__esModule",{value:!0});V.default=void 0;var Xe=l,Ue=gr(w);function gr(e){return e&&e.__esModule?e:{default:e}}function it(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function _r(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?it(Object(r),!0).forEach(function(a){mr(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):it(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function mr(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var yr=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{longitude:Xe.longitudeKeys,latitude:Xe.latitudeKeys,altitude:Xe.altitudeKeys},a=(0,Ue.default)(t,r.longitude),n=(0,Ue.default)(t,r.latitude),u=(0,Ue.default)(t,r.altitude);return _r({latitude:n,longitude:a},u?{altitude:u}:{})},hr=yr;V.default=hr;var Z={};Object.defineProperty(Z,"__esModule",{value:!0});Z.default=void 0;var pr=et(I),Pr=et(T),$r=et(E),ot=l;function et(e){return e&&e.__esModule?e:{default:e}}var Mr=function e(t){return(0,pr.default)(t)?!(parseFloat(t)>ot.MAXLAT||t<ot.MINLAT):(0,Pr.default)(t)?e((0,$r.default)(t)):!1},Or=Mr;Z.default=Or;var z={};Object.defineProperty(z,"__esModule",{value:!0});z.default=void 0;var Lr=tt(I),br=tt(T),Dr=tt(E),dt=l;function tt(e){return e&&e.__esModule?e:{default:e}}var Nr=function e(t){return(0,Lr.default)(t)?!(parseFloat(t)>dt.MAXLON||t<dt.MINLON):(0,br.default)(t)?e((0,Dr.default)(t)):!1},Sr=Nr;z.default=Sr;Object.defineProperty(H,"__esModule",{value:!0});H.default=void 0;var Ar=rt(V),lt=rt(Z),ft=rt(z);function rt(e){return e&&e.__esModule?e:{default:e}}var Rr=function(t){var r=(0,Ar.default)(t),a=r.latitude,n=r.longitude;if(Array.isArray(t)&&t.length>=2)return(0,ft.default)(t[0])&&(0,lt.default)(t[1]);if(typeof a>"u"||typeof n>"u")return!1;var u=t[n],i=t[a];return!(typeof i>"u"||typeof u>"u"||(0,lt.default)(i)===!1||(0,ft.default)(u)===!1)},Cr=Rr;H.default=Cr;Object.defineProperty(j,"__esModule",{value:!0});j.default=void 0;var wr=J(I),Ir=J(T),Tr=J(E),st=J(H),Er=J(V);function J(e){return e&&e.__esModule?e:{default:e}}function ct(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable})),r.push.apply(r,a)}return r}function ke(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ct(Object(r),!0).forEach(function(a){Je(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Br=function e(t){if((0,wr.default)(t))return Number(t);if((0,Ir.default)(t))return(0,Tr.default)(t);if((0,st.default)(t)){var r=(0,Er.default)(t);return Array.isArray(t)?t.map(function(a,n){return[0,1].includes(n)?e(a):a}):ke(ke(ke({},t),r.latitude&&Je({},r.latitude,e(t[r.latitude]))),r.longitude&&Je({},r.longitude,e(t[r.longitude])))}return Array.isArray(t)?t.map(function(a){return(0,st.default)(a)?e(a):a}):t},qr=Br;j.default=qr;Object.defineProperty(p,"__esModule",{value:!0});p.default=void 0;var Kr=l,Wr=Et(w),Fr=Et(j);function Et(e){return e&&e.__esModule?e:{default:e}}var jr=function(t,r){var a=(0,Wr.default)(t,Kr.latitudeKeys);if(!(typeof a>"u"||a===null)){var n=t[a];return r===!0?n:(0,Fr.default)(n)}},Vr=jr;p.default=Vr;var P={};Object.defineProperty(P,"__esModule",{value:!0});P.default=void 0;var Xr=l,Ur=Bt(w),kr=Bt(j);function Bt(e){return e&&e.__esModule?e:{default:e}}var Gr=function(t,r){var a=(0,Ur.default)(t,Xr.longitudeKeys);if(!(typeof a>"u"||a===null)){var n=t[a];return r===!0?n:(0,kr.default)(n)}},xr=Gr;P.default=xr;var O={};Object.defineProperty(O,"__esModule",{value:!0});O.default=void 0;var Yr=function(t){return t*Math.PI/180},Hr=Yr;O.default=Hr;var S={};Object.defineProperty(S,"__esModule",{value:!0});S.default=void 0;var Zr=function(t){return t*180/Math.PI},zr=Zr;S.default=zr;Object.defineProperty(ve,"__esModule",{value:!0});ve.default=void 0;var Jr=ge(p),Qr=ge(P),Ge=ge(O),xe=ge(S),vt=l;function ge(e){return e&&e.__esModule?e:{default:e}}var ea=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:6371e3,u=(0,Jr.default)(t),i=(0,Qr.default)(t),d=r/n,s=(0,Ge.default)(a),c=(0,Ge.default)(u),m=(0,Ge.default)(i),_=Math.asin(Math.sin(c)*Math.cos(d)+Math.cos(c)*Math.sin(d)*Math.cos(s)),v=m+Math.atan2(Math.sin(s)*Math.sin(d)*Math.cos(c),Math.cos(d)-Math.sin(c)*Math.sin(_)),y=(0,xe.default)(v);return(y<vt.MINLON||y>vt.MAXLON)&&(v=(v+3*Math.PI)%(2*Math.PI)-Math.PI,y=(0,xe.default)(v)),{latitude:(0,xe.default)(_),longitude:y}},ta=ea;ve.default=ta;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.default=void 0;var ra=l,aa=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",a=ra.areaConversion[r];if(a)return t*a;throw new Error("Invalid unit used for area conversion.")},na=aa;_e.default=na;var me={};Object.defineProperty(me,"__esModule",{value:!0});me.default=void 0;var ua=l,ia=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"m",a=ua.distanceConversion[r];if(a)return t*a;throw new Error("Invalid unit used for distance conversion.")},oa=ia;me.default=oa;var ye={};Object.defineProperty(ye,"__esModule",{value:!0});ye.default=void 0;var de=l,da=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"kmh";switch(r){case"kmh":return t*de.timeConversion.h*de.distanceConversion.km;case"mph":return t*de.timeConversion.h*de.distanceConversion.mi;default:return t}},la=da;ye.default=la;var he={};Object.defineProperty(he,"__esModule",{value:!0});he.default=void 0;function gt(e,t){return va(e)||ca(e,t)||sa(e,t)||fa()}function fa(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sa(e,t){if(!!e){if(typeof e=="string")return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _t(e,t)}}function _t(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function ca(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,u=void 0;try{for(var i=e[Symbol.iterator](),d;!(a=(d=i.next()).done)&&(r.push(d.value),!(t&&r.length===t));a=!0);}catch(s){n=!0,u=s}finally{try{!a&&i.return!=null&&i.return()}finally{if(n)throw u}}return r}}function va(e){if(Array.isArray(e))return e}var ga=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:4,a=Math.pow(10,r);return Math.round(t*a)/a},_a=function(t){var r=t.toString().split("."),a=gt(r,2),n=a[0],u=a[1],i=Math.abs(Number(n)),d=Number("0."+(u||0))*60,s=d.toString().split("."),c=Math.floor(d),m=ga(Number("0."+(s[1]||0))*60).toString(),_=m.split("."),v=gt(_,2),y=v[0],h=v[1],g=h===void 0?"0":h;return i+"\xB0 "+c.toString().padStart(2,"0")+"' "+y.padStart(2,"0")+"."+g.padEnd(1,"0")+'"'},ma=_a;he.default=ma;var pe={},Q={},D={},ee={};Object.defineProperty(ee,"__esModule",{value:!0});ee.default=void 0;var ya=function(t){return t>1?1:t<-1?-1:t},ha=ya;ee.default=ha;Object.defineProperty(D,"__esModule",{value:!0});D.default=void 0;var mt=Pe(p),yt=Pe(P),W=Pe(O),pa=Pe(ee),Pa=l;function Pe(e){return e&&e.__esModule?e:{default:e}}var $a=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a=typeof a<"u"&&!isNaN(a)?a:1;var n=(0,mt.default)(t),u=(0,yt.default)(t),i=(0,mt.default)(r),d=(0,yt.default)(r),s=Math.acos((0,pa.default)(Math.sin((0,W.default)(i))*Math.sin((0,W.default)(n))+Math.cos((0,W.default)(i))*Math.cos((0,W.default)(n))*Math.cos((0,W.default)(u)-(0,W.default)(d))))*Pa.earthRadius;return Math.round(s/a)*a},Ma=$a;D.default=Ma;Object.defineProperty(Q,"__esModule",{value:!0});Q.default=void 0;var ht=Oa(D);function Oa(e){return e&&e.__esModule?e:{default:e}}var La=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ht.default;return a=typeof a=="function"?a:ht.default,r.slice().sort(function(n,u){return a(t,n)-a(t,u)})},ba=La;Q.default=ba;Object.defineProperty(pe,"__esModule",{value:!0});pe.default=void 0;var Da=Na(Q);function Na(e){return e&&e.__esModule?e:{default:e}}var Sa=function(t,r){return(0,Da.default)(t,r)[0]},Aa=Sa;pe.default=Aa;var $e={};Object.defineProperty($e,"__esModule",{value:!0});$e.default=void 0;var Ye=at(O),Ra=at(p),pt=at(P),Pt=l;function at(e){return e&&e.__esModule?e:{default:e}}var Ca=function(t){var r=0;if(t.length>2){for(var a,n,u,i=0;i<t.length;i++){i===t.length-2?(a=t.length-2,n=t.length-1,u=0):i===t.length-1?(a=t.length-1,n=0,u=1):(a=i,n=i+1,u=i+2);var d=(0,pt.default)(t[a]),s=(0,Ra.default)(t[n]),c=(0,pt.default)(t[u]);r+=((0,Ye.default)(c)-(0,Ye.default)(d))*Math.sin((0,Ye.default)(s))}r=r*Pt.earthRadius*Pt.earthRadius/2}return Math.abs(r)},wa=Ca;$e.default=wa;var te={};Object.defineProperty(te,"__esModule",{value:!0});te.default=void 0;var Ia=qt(p),Ta=qt(P);function qt(e){return e&&e.__esModule?e:{default:e}}var Ea=function(t){if(Array.isArray(t)===!1||t.length===0)throw new Error("No points were given.");return t.reduce(function(r,a){var n=(0,Ia.default)(a),u=(0,Ta.default)(a);return{maxLat:Math.max(n,r.maxLat),minLat:Math.min(n,r.minLat),maxLng:Math.max(u,r.maxLng),minLng:Math.min(u,r.minLng)}},{maxLat:-1/0,minLat:1/0,maxLng:-1/0,minLng:1/0})},Ba=Ea;te.default=Ba;var Me={};Object.defineProperty(Me,"__esModule",{value:!0});Me.default=void 0;var qa=Oe(p),Ka=Oe(P),F=Oe(O),le=Oe(S),x=l;function Oe(e){return e&&e.__esModule?e:{default:e}}var Wa=function(t,r){var a=(0,qa.default)(t),n=(0,Ka.default)(t),u=(0,F.default)(a),i=(0,F.default)(n),d=r/x.earthRadius,s=u-d,c=u+d,m=(0,F.default)(x.MAXLAT),_=(0,F.default)(x.MINLAT),v=(0,F.default)(x.MAXLON),y=(0,F.default)(x.MINLON),h,g;if(s>_&&c<m){var $=Math.asin(Math.sin(d)/Math.cos(u));h=i-$,h<y&&(h+=Math.PI*2),g=i+$,g>v&&(g-=Math.PI*2)}else s=Math.max(s,_),c=Math.min(c,m),h=y,g=v;return[{latitude:(0,le.default)(s),longitude:(0,le.default)(h)},{latitude:(0,le.default)(c),longitude:(0,le.default)(g)}]},Fa=Wa;Me.default=Fa;var Le={};Object.defineProperty(Le,"__esModule",{value:!0});Le.default=void 0;var ja=be(p),Va=be(P),$t=be(O),Mt=be(S);function be(e){return e&&e.__esModule?e:{default:e}}var Xa=function(t){if(Array.isArray(t)===!1||t.length===0)return!1;var r=t.length,a=t.reduce(function(d,s){var c=(0,$t.default)((0,ja.default)(s)),m=(0,$t.default)((0,Va.default)(s));return{X:d.X+Math.cos(c)*Math.cos(m),Y:d.Y+Math.cos(c)*Math.sin(m),Z:d.Z+Math.sin(c)}},{X:0,Y:0,Z:0}),n=a.X/r,u=a.Y/r,i=a.Z/r;return{longitude:(0,Mt.default)(Math.atan2(u,n)),latitude:(0,Mt.default)(Math.atan2(i,Math.sqrt(n*n+u*u)))}},Ua=Xa;Le.default=Ua;var De={};Object.defineProperty(De,"__esModule",{value:!0});De.default=void 0;var ka=Ga(te);function Ga(e){return e&&e.__esModule?e:{default:e}}var xa=function(t){var r=(0,ka.default)(t),a=r.minLat+(r.maxLat-r.minLat)/2,n=r.minLng+(r.maxLng-r.minLng)/2;return{latitude:parseFloat(a.toFixed(6)),longitude:parseFloat(n.toFixed(6))}},Ya=xa;De.default=Ya;var Ne={},re={};Object.defineProperty(re,"__esModule",{value:!0});re.default=void 0;var Ot=Se(p),Lt=Se(P),fe=Se(O),Ha=Se(S);function Se(e){return e&&e.__esModule?e:{default:e}}var Za=function(t,r){var a=(0,fe.default)((0,Lt.default)(r))-(0,fe.default)((0,Lt.default)(t)),n=Math.log(Math.tan((0,fe.default)((0,Ot.default)(r))/2+Math.PI/4)/Math.tan((0,fe.default)((0,Ot.default)(t))/2+Math.PI/4));return Math.abs(a)>Math.PI&&(a>0?a=(Math.PI*2-a)*-1:a=Math.PI*2+a),((0,Ha.default)(Math.atan2(a,n))+360)%360},za=Za;re.default=za;Object.defineProperty(Ne,"__esModule",{value:!0});Ne.default=void 0;var bt=Ja(re);function Ja(e){return e&&e.__esModule?e:{default:e}}var Qa=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:bt.default,n=typeof a=="function"?a(t,r):(0,bt.default)(t,r);if(isNaN(n))throw new Error("Could not calculate bearing for given points. Check your bearing function");switch(Math.round(n/22.5)){case 1:return"NNE";case 2:return"NE";case 3:return"ENE";case 4:return"E";case 5:return"ESE";case 6:return"SE";case 7:return"SSE";case 8:return"S";case 9:return"SSW";case 10:return"SW";case 11:return"WSW";case 12:return"W";case 13:return"WNW";case 14:return"NW";case 15:return"NNW";default:return"N"}},en=Qa;Ne.default=en;var ae={};Object.defineProperty(ae,"__esModule",{value:!0});ae.default=void 0;var He=Kt(D),Dt=Kt(ee);function Kt(e){return e&&e.__esModule?e:{default:e}}var tn=function(t,r,a){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,u=(0,He.default)(r,t,n),i=(0,He.default)(t,a,n),d=(0,He.default)(r,a,n),s=Math.acos((0,Dt.default)((u*u+d*d-i*i)/(2*u*d))),c=Math.acos((0,Dt.default)((i*i+d*d-u*u)/(2*i*d)));return s>Math.PI/2?u:c>Math.PI/2?i:Math.sin(s)*u},rn=tn;ae.default=rn;var Ae={};Object.defineProperty(Ae,"__esModule",{value:!0});Ae.default=void 0;var Nt=Re(p),St=Re(P),N=Re(O),an=Re(S);function Re(e){return e&&e.__esModule?e:{default:e}}var nn=function(t,r){var a=(0,Nt.default)(r),n=(0,St.default)(r),u=(0,Nt.default)(t),i=(0,St.default)(t),d=((0,an.default)(Math.atan2(Math.sin((0,N.default)(n)-(0,N.default)(i))*Math.cos((0,N.default)(a)),Math.cos((0,N.default)(u))*Math.sin((0,N.default)(a))-Math.sin((0,N.default)(u))*Math.cos((0,N.default)(a))*Math.cos((0,N.default)(n)-(0,N.default)(i))))+360)%360;return d},un=nn;Ae.default=un;var Ce={};Object.defineProperty(Ce,"__esModule",{value:!0});Ce.default=void 0;var on=dn(D);function dn(e){return e&&e.__esModule?e:{default:e}}function ce(e){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ce=function(r){return typeof r}:ce=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ce(e)}var ln=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:on.default;return t.reduce(function(a,n){return ce(a)==="object"&&a.last!==null&&(a.distance+=r(n,a.last)),a.last=n,a},{last:null,distance:0}).distance},fn=ln;Ce.default=fn;var we={};Object.defineProperty(we,"__esModule",{value:!0});we.default=void 0;var At=nt(p),Rt=nt(P),Ze=nt(O),Ct=l;function nt(e){return e&&e.__esModule?e:{default:e}}var sn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;a=typeof a<"u"&&!isNaN(a)?a:1;var n=(0,At.default)(t),u=(0,Rt.default)(t),i=(0,At.default)(r),d=(0,Rt.default)(r),s=6356752314245e-6,c=1/298.257223563,m=(0,Ze.default)(d-u),_,v,y,h,g,$,ne=Math.atan((1-c)*Math.tan((0,Ze.default)(parseFloat(n)))),ue=Math.atan((1-c)*Math.tan((0,Ze.default)(parseFloat(i)))),B=Math.sin(ne),q=Math.cos(ne),K=Math.sin(ue),A=Math.cos(ue),R=m,ie,oe=100;do{var X=Math.sin(R),U=Math.cos(R);if($=Math.sqrt(A*X*(A*X)+(q*K-B*A*U)*(q*K-B*A*U)),$===0)return 0;_=B*K+q*A*U,v=Math.atan2($,_),y=q*A*X/$,h=1-y*y,g=_-2*B*K/h,isNaN(g)&&(g=0);var k=c/16*h*(4+c*(4-3*h));ie=R,R=m+(1-k)*c*y*(v+k*$*(g+k*_*(-1+2*g*g)))}while(Math.abs(R-ie)>1e-12&&--oe>0);if(oe===0)return NaN;var b=h*(Ct.earthRadius*Ct.earthRadius-s*s)/(s*s),Fe=1+b/16384*(4096+b*(-768+b*(320-175*b))),G=b/1024*(256+b*(-128+b*(74-47*b))),je=G*$*(g+G/4*(_*(-1+2*g*g)-G/6*g*(-3+4*$*$)*(-3+4*g*g))),Ve=s*Fe*(v-je);return Math.round(Ve/a)*a},cn=sn;we.default=cn;var Ie={};Object.defineProperty(Ie,"__esModule",{value:!0});Ie.default=void 0;var vn=function(t){if(/^NNE|NE|NNW|N$/.test(t))return"N";if(/^ENE|E|ESE|SE$/.test(t))return"E";if(/^SSE|S|SSW|SW$/.test(t))return"S";if(/^WSW|W|WNW|NW$/.test(t))return"W"},gn=vn;Ie.default=gn;var Te={};Object.defineProperty(Te,"__esModule",{value:!0});Te.default=void 0;var _n=mn(D);function mn(e){return e&&e.__esModule?e:{default:e}}var yn=function(t,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_n.default,n=a(t,r),u=Number(r.time)-Number(t.time),i=n/u*1e3;return i},hn=yn;Te.default=hn;var Ee={};Object.defineProperty(Ee,"__esModule",{value:!0});Ee.default=void 0;var ze=pn(D);function pn(e){return e&&e.__esModule?e:{default:e}}var Pn=function(t,r,a){return(0,ze.default)(r,t)+(0,ze.default)(t,a)===(0,ze.default)(r,a)},$n=Pn;Ee.default=$n;var Be={};Object.defineProperty(Be,"__esModule",{value:!0});Be.default=void 0;var se=Wt(p),M=Wt(P);function Wt(e){return e&&e.__esModule?e:{default:e}}var Mn=function(t,r){for(var a=!1,n=r.length,u=-1,i=n-1;++u<n;i=u)((0,M.default)(r[u])<=(0,M.default)(t)&&(0,M.default)(t)<(0,M.default)(r[i])||(0,M.default)(r[i])<=(0,M.default)(t)&&(0,M.default)(t)<(0,M.default)(r[u]))&&(0,se.default)(t)<((0,se.default)(r[i])-(0,se.default)(r[u]))*((0,M.default)(t)-(0,M.default)(r[u]))/((0,M.default)(r[i])-(0,M.default)(r[u]))+(0,se.default)(r[u])&&(a=!a);return a},On=Mn;Be.default=On;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.default=void 0;var Ln=bn(ae);function bn(e){return e&&e.__esModule?e:{default:e}}var Dn=function(t,r,a,n){return(0,Ln.default)(t,r,a)<n},Nn=Dn;qe.default=Nn;var Ke={};Object.defineProperty(Ke,"__esModule",{value:!0});Ke.default=void 0;var Sn=An(D);function An(e){return e&&e.__esModule?e:{default:e}}var Rn=function(t,r,a){return(0,Sn.default)(t,r)<a},Cn=Rn;Ke.default=Cn;var We={};Object.defineProperty(We,"__esModule",{value:!0});We.default=void 0;function wn(e,t){return Bn(e)||En(e,t)||Tn(e,t)||In()}function In(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(e,t){if(!!e){if(typeof e=="string")return wt(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wt(e,t)}}function wt(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,a=new Array(t);r<t;r++)a[r]=e[r];return a}function En(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var r=[],a=!0,n=!1,u=void 0;try{for(var i=e[Symbol.iterator](),d;!(a=(d=i.next()).done)&&(r.push(d.value),!(t&&r.length===t));a=!0);}catch(s){n=!0,u=s}finally{try{!a&&i.return!=null&&i.return()}finally{if(n)throw u}}return r}}function Bn(e){if(Array.isArray(e))return e}var qn=function(t){if(!t.startsWith("POLYGON"))throw new Error("Invalid wkt.");var r=t.slice(t.indexOf("(")+2,t.indexOf(")")).split(", "),a=r.map(function(n){var u=n.split(" "),i=wn(u,2),d=i[0],s=i[1];return{longitude:parseFloat(d),latitude:parseFloat(s)}});return a},Kn=qn;We.default=Kn;(function(e){Object.defineProperty(e,"__esModule",{value:!0});var t={computeDestinationPoint:!0,convertArea:!0,convertDistance:!0,convertSpeed:!0,decimalToSexagesimal:!0,findNearest:!0,getAreaOfPolygon:!0,getBounds:!0,getBoundsOfDistance:!0,getCenter:!0,getCenterOfBounds:!0,getCompassDirection:!0,getCoordinateKey:!0,getCoordinateKeys:!0,getDistance:!0,getDistanceFromLine:!0,getGreatCircleBearing:!0,getLatitude:!0,getLongitude:!0,getPathLength:!0,getPreciseDistance:!0,getRhumbLineBearing:!0,getRoughCompassDirection:!0,getSpeed:!0,isDecimal:!0,isPointInLine:!0,isPointInPolygon:!0,isPointNearLine:!0,isPointWithinRadius:!0,isSexagesimal:!0,isValidCoordinate:!0,isValidLatitude:!0,isValidLongitude:!0,orderByDistance:!0,sexagesimalToDecimal:!0,toDecimal:!0,toRad:!0,toDeg:!0,wktToPolygon:!0};Object.defineProperty(e,"computeDestinationPoint",{enumerable:!0,get:function(){return r.default}}),Object.defineProperty(e,"convertArea",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(e,"convertDistance",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(e,"convertSpeed",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(e,"decimalToSexagesimal",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(e,"findNearest",{enumerable:!0,get:function(){return d.default}}),Object.defineProperty(e,"getAreaOfPolygon",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(e,"getBounds",{enumerable:!0,get:function(){return c.default}}),Object.defineProperty(e,"getBoundsOfDistance",{enumerable:!0,get:function(){return m.default}}),Object.defineProperty(e,"getCenter",{enumerable:!0,get:function(){return _.default}}),Object.defineProperty(e,"getCenterOfBounds",{enumerable:!0,get:function(){return v.default}}),Object.defineProperty(e,"getCompassDirection",{enumerable:!0,get:function(){return y.default}}),Object.defineProperty(e,"getCoordinateKey",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(e,"getCoordinateKeys",{enumerable:!0,get:function(){return g.default}}),Object.defineProperty(e,"getDistance",{enumerable:!0,get:function(){return $.default}}),Object.defineProperty(e,"getDistanceFromLine",{enumerable:!0,get:function(){return ne.default}}),Object.defineProperty(e,"getGreatCircleBearing",{enumerable:!0,get:function(){return ue.default}}),Object.defineProperty(e,"getLatitude",{enumerable:!0,get:function(){return B.default}}),Object.defineProperty(e,"getLongitude",{enumerable:!0,get:function(){return q.default}}),Object.defineProperty(e,"getPathLength",{enumerable:!0,get:function(){return K.default}}),Object.defineProperty(e,"getPreciseDistance",{enumerable:!0,get:function(){return A.default}}),Object.defineProperty(e,"getRhumbLineBearing",{enumerable:!0,get:function(){return R.default}}),Object.defineProperty(e,"getRoughCompassDirection",{enumerable:!0,get:function(){return ie.default}}),Object.defineProperty(e,"getSpeed",{enumerable:!0,get:function(){return oe.default}}),Object.defineProperty(e,"isDecimal",{enumerable:!0,get:function(){return X.default}}),Object.defineProperty(e,"isPointInLine",{enumerable:!0,get:function(){return U.default}}),Object.defineProperty(e,"isPointInPolygon",{enumerable:!0,get:function(){return k.default}}),Object.defineProperty(e,"isPointNearLine",{enumerable:!0,get:function(){return b.default}}),Object.defineProperty(e,"isPointWithinRadius",{enumerable:!0,get:function(){return Fe.default}}),Object.defineProperty(e,"isSexagesimal",{enumerable:!0,get:function(){return G.default}}),Object.defineProperty(e,"isValidCoordinate",{enumerable:!0,get:function(){return je.default}}),Object.defineProperty(e,"isValidLatitude",{enumerable:!0,get:function(){return Ve.default}}),Object.defineProperty(e,"isValidLongitude",{enumerable:!0,get:function(){return Ft.default}}),Object.defineProperty(e,"orderByDistance",{enumerable:!0,get:function(){return jt.default}}),Object.defineProperty(e,"sexagesimalToDecimal",{enumerable:!0,get:function(){return Vt.default}}),Object.defineProperty(e,"toDecimal",{enumerable:!0,get:function(){return Xt.default}}),Object.defineProperty(e,"toRad",{enumerable:!0,get:function(){return Ut.default}}),Object.defineProperty(e,"toDeg",{enumerable:!0,get:function(){return kt.default}}),Object.defineProperty(e,"wktToPolygon",{enumerable:!0,get:function(){return Gt.default}});var r=f(ve),a=f(_e),n=f(me),u=f(ye),i=f(he),d=f(pe),s=f($e),c=f(te),m=f(Me),_=f(Le),v=f(De),y=f(Ne),h=f(w),g=f(V),$=f(D),ne=f(ae),ue=f(Ae),B=f(p),q=f(P),K=f(Ce),A=f(we),R=f(re),ie=f(Ie),oe=f(Te),X=f(I),U=f(Ee),k=f(Be),b=f(qe),Fe=f(Ke),G=f(T),je=f(H),Ve=f(Z),Ft=f(z),jt=f(Q),Vt=f(E),Xt=f(j),Ut=f(O),kt=f(S),Gt=f(We),ut=l;Object.keys(ut).forEach(function(o){o==="default"||o==="__esModule"||Object.prototype.hasOwnProperty.call(t,o)||Object.defineProperty(e,o,{enumerable:!0,get:function(){return ut[o]}})});function f(o){return o&&o.__esModule?o:{default:o}}})(Y);const Qe=document.querySelector("#app"),Wn="/i-need-a-drink/";function C(e){Qe.innerHTML=e}function It(e){return`${e.lat},${e.lon}`}function Fn(e,t){const r=Y.getDistance(t,e.location);return e.distance=r,e}function jn(e,t,r){const a=document.createElement("div"),n=(t.distance/1e3).toFixed(1),u=new URL("https://www.google.com/maps/dir/");u.searchParams.append("api",1),u.searchParams.append("origin",It(r)),u.searchParams.append("destination",It(t.location)),u.searchParams.append("travelmode","walking"),a.innerHTML=`
        <a href="${u}">${t.name} (${n}km)</a>
    `,e.appendChild(a)}function Vn(e,t,r){Qe.innerHTML="",e.map(n=>Fn(n,t)).sort((n,u)=>n.distance-u.distance).filter(n=>n.distance<=r).forEach(n=>jn(Qe,n,t))}function Tt(e){const t=Y.getLatitude(e),r=Y.getLongitude(e);return{lat:Math.floor(t*100)/100,lon:Math.floor(r*100)/100}}function Xn(e){return`${e.lat.toFixed(2)}x${e.lon.toFixed(2)}`}function Un(e){const t={lat:e.coords.latitude,lon:e.coords.longitude};C(`Finding pubs near (${t.lat}, ${t.lon})`);const r=1e3,a=Y.getBoundsOfDistance(t,r),n=Tt(a[0]),u=Tt(a[1]),i=[];for(let d=n.lat;d<=u.lat;d+=.01)for(let s=n.lon;s<=u.lon;s+=.01){const m=`${Wn}/partitions/${Xn({lat:d,lon:s})}.json`,_=fetch(m).then(v=>{if(v.ok)return v;throw Error("404")}).then(v=>v.json()).catch(v=>console.log(v));i.push(_)}Promise.all(i).then(d=>d.filter(Boolean)).then(d=>Vn(d.flat(),t,r))}function kn(e){switch(e.code){case GeolocationPositionError.PERMISSION_DENIED:C("Location permission denied");break;case GeolocationPositionError.POSITION_UNAVAILABLE:C("Unable to find location.");break;case GeolocationPositionError.TIMEOUT:C("Timed out when getting location");break;default:C(e.message);break}}function Gn(){if(!navigator.geolocation){C("Geolocation not supported.");return}C("Getting location."),navigator.geolocation.getCurrentPosition(Un,kn)}Gn();
